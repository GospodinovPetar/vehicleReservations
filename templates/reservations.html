{% extends 'base.html' %}
{% block content %}
  <h3>My reservations</h3>
  <div class='card'>
  <table>
    <tr><th>Vehicle</th><th>Dates</th><th>Pickup → Return</th><th>Status</th><th>Total</th><th>Actions</th></tr>
    {% for r in reservations %}
      <tr>
        <td>{{ r.vehicle }}</td>
        <td>{{ r.start_date }} → {{ r.end_date }}</td>
        <td>{{ r.pickup_location }} → {{ r.return_location }}</td>
        <td>{{ r.status }}</td>
        <td>{{ r.total_price }} {{ r.currency }}</td>
        <td>
          {% if r.status == 'PENDING' or r.status == 'CONFIRMED' %}
            <form method='post' action="{% url 'inventory:cancel_reservation' r.id %}" style='display:inline'>{% csrf_token %}<button class='btn'>Cancel</button></form>
            <form method='post' action="{% url 'inventory:reject_reservation' r.id %}" style='display:inline'>{% csrf_token %}<button class='btn'>Reject</button></form>
          {% endif %}
        </td>
      </tr>
    {% empty %}
      <tr><td colspan='6'>No reservations yet.</td></tr>
    {% endfor %}
  </table>
  </div>
{% endblock %}